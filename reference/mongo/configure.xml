<?xml version="1.0" encoding="utf-8"?>
<!-- $Revision$ -->
<!-- EN-Revision: 3b51539eee839636d5fa7852074b1e8e8b82a42f Maintainer: dams Status: ready -->
<!-- Reviewed: no -->

<section xml:id="mongo.installation" xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">
 &reftitle.install;
 <para>
  &pecl.moved;
  &pecl.info;
  <link xlink:href="&url.pecl.package;mongo">&url.pecl.package;mongo</link>.
 </para>
 
 <section>
  <title>Installation sur les systèmes *NIX</title>
  <subtitle>Unix, Linux, OS X, Cygwin</subtitle>
  
  <para>
   Lancez:
   <programlisting>
<![CDATA[

$ sudo pecl install mongo

]]>
   </programlisting>
  </para>
  
  <para>
   Ajoutez les lignes suivantes à votre fichier php.ini:
   <programlisting>
<![CDATA[
extension=mongo.so
]]>
   </programlisting>
  </para>
 </section>
 
 <section>
  <title>Installation manuelle</title>
  
  <para>Pour les développeurs des pilotes ou les personnes intéréssées par les derniers correctifs
   de bugs, vous pouvez compiler le pilote depuis
   <link xlink:href="http://github.com/mongodb/mongo-php-driver">Github</link>.
   Allez sur Github et cliquez sur "download". Lancez ensuite:
   
   <programlisting>
<![CDATA[
$ tar zxvf mongodb-mongodb-php-driver-<commit_id>.tar.gz
$ cd mongodb-mongodb-php-driver-<commit_id>
$ phpize
$ ./configure
$ sudo make install
]]>
   </programlisting>
  </para>
  
  <para>
   Effectuez ces changements à votre fichier php.ini:
  </para>
  <itemizedlist>
   <listitem>
    <para>
     1. La construction vous précisera où est installée l'extension grâce à un affichage
     ressemblant à ceci:
     <programlisting>
<![CDATA[
      Installing '/usr/lib/php/extensions/no-debug-zts-20060613/mongo.so'
]]>
     </programlisting>
     
     Vérifiez bien qu'il s'agisse du même dossier d'extensions que celui de votre PHP en lançant:
     
     <programlisting>
<![CDATA[
      $ php -i | grep extension_dir
        extension_dir => /usr/lib/php/extensions/no-debug-zts-20060613 =>
      /usr/lib/php/extensions/no-debug-zts-20060613  
]]>
     </programlisting>
     
     Si ce n'est pas le cas, changez extension_dir de php.ini ou placez manuellement mongo.so.
    </para>
   </listitem>
   <listitem>
    <para>
     2. Pour chargez l'extension au démarrage de PHP, ajoutez cette ligne:
     
     <programlisting>
<![CDATA[
      extension=mongo.so
]]>
     </programlisting>
     
    </para>
   </listitem>
  </itemizedlist>
  
  <section>
   <title>Sustèmes OS X</title>
   
   <para>
    Si votre système ne peut trouver autoconf, vous devrez installer Xcode 
    (disponible sur le DVD d'installation de votre OS).
   </para>
   
   <para>
    Des binaires précompilés sont disponibles sur
    <link xlink:href="http://www.github.com/mongodb/mongo-php-driver/downloads">Github</link>
    (téléchargez le dernier qui a pour nom "osx" et la version de PHP que vous utilisez).
    Ceux-ci s'utilisent pour MAMP et XAMPP, ils ne possèdent pas les en-têtes nécessaires
    à la compilation de l'extension. Extrayez mongo.so de l'archive et ajoutez le à votre
    dossier d'extensions MAMP ou XAMPP. Ajoutez:
    <programlisting>
<![CDATA[
      extension=mongo.so
]]>
    </programlisting>
    au fichier php.ini utilisé puis redémarrez le serveur web.
   </para>
  </section>
  
  <section>
   <title>Gentoo</title>
   <para>Sur Gentoo, l'utilisation de PECL peut vous envoyer un message d'erreur indiquant
    que la version de libtool utilisée n'est pas bonne. Pour compiler depuis les sources,
    vous devrez lancer aclocal et autoconf.
    
    <programlisting>
<![CDATA[
$ phpize && aclocal && autoconf && ./configure && make && make install
]]>
    </programlisting>
    
    (Merci à <link xlink:href="http://twitter.com/riklaunim/status/5015388622">@riklaunim</link>)
   </para>
  </section>
  
  <section>
   <title>Installation sous Windows</title>
   
   <para>
    Les binaires VC8 et VC9 précompilés sont disponibles pour
    PHP 5.3 thread safe et non-thread-safe sur
    <link xlink:href="http://github.com/mongodb/mongo-php-driver/downloads">Github</link>. 
    Les binaires VC6 précompilés sont disponibles pour PHP 5.2 et PHP 5.3
    thread safe et non-thread-safe sur
    <link xlink:href="http://downloads.php.net/pierre/">php.net</link>.
    Décompressez l'archive et placez le fichier php_mongo.dll
    dans le dossier d'extensions de PHP ("ext" par défaut).
   </para>
   
   <para>
    Le code le plus récent (non publié) est compilé avec les binaires Windows à
    chaque modification. L'archive Zip contient les fichiers php_mongo.dll et
    version.txt. Conservez le fichier version.txt ; ainsi, si vous avez une question
    ou un problème, vous pourrez indiquer aux développeurs l'exacte version que vous
    utilisez. (Le nombre est assez long et absurde, mais il a du sens pour les
    développeurs ;) )
   </para>
   <para>
    Pour récupérer les dernière corrections de bogues, téléchargez le binaire
    correspondant à la version de PHP que vous avez d'installée :
   </para>
   <itemizedlist>
    <listitem>
     <para>
      <link xlink:href="http://downloads.mongodb.org/mongo-latest-php5.3vc8.zip">
       PHP 5.3 VC8 Non-Thread-Safe Mongo extension
      </link>
     </para>
    </listitem>
    <listitem>
     <para>
      <link xlink:href="http://downloads.mongodb.org/mongo-latest-php5.3vc8ts.zip">
       PHP 5.3 VC8 Thread-Safe Mongo extension
      </link>
     </para>
    </listitem>
    <listitem>
     <para>
      <link xlink:href="http://downloads.mongodb.org/mongo-latest-php5.3vc9.zip">
       PHP 5.3 VC9 Non-Thread-Safe Mongo extension
      </link>
     </para>
    </listitem>
    <listitem>
     <para>
      <link xlink:href="http://downloads.mongodb.org/mongo-latest-php5.3vc9ts.zip">
       PHP 5.3 VC9 Thread-Safe Mongo extension
      </link>
     </para>
    </listitem>
   </itemizedlist>
   
   <para>
    Ajoutez la ligne suivante à votre fichier php.ini :
    <programlisting>
<![CDATA[
extension=php_mongo.dll
]]>
    </programlisting>
   </para>
  </section>
  
 </section>
 
</section>


<!-- Keep this comment at the end of the file
Local variables:
mode: sgml
sgml-omittag:t
sgml-shorttag:t
sgml-minimize-attributes:nil
sgml-always-quote-attributes:t
sgml-indent-step:1
sgml-indent-data:t
indent-tabs-mode:nil
sgml-parent-document:nil
sgml-default-dtd-file:"~/.phpdoc/manual.ced"
sgml-exposed-tags:nil
sgml-local-catalogs:nil
sgml-local-ecat-files:nil
End:
vim600: syn=xml fen fdm=syntax fdl=2 si
vim: et tw=78 syn=sgml
vi: ts=1 sw=1
-->
