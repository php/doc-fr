<?xml version="1.0" encoding="utf-8"?>
<!-- $Revision$ -->
<!-- EN-Revision: 58e026c0572f50bfcbb447e07423641cf8062d6a Maintainer: yannick Status: ready -->
<!-- Reviewed: no -->

<refentry xml:id="function.oci-set-client-identifier" xmlns="http://docbook.org/ns/docbook">
 <refnamediv>
  <refname>oci_set_client_identifier</refname>
  <refpurpose>Définit l'identifiant du client</refpurpose>
 </refnamediv>
 
 <refsect1 role="description">
  &reftitle.description;
  <methodsynopsis>
   <type>bool</type><methodname>oci_set_client_identifier</methodname>
   <methodparam><type>resource</type><parameter>connection</parameter></methodparam>
   <methodparam><type>string</type><parameter>client_identifier</parameter></methodparam>
  </methodsynopsis>
  <para>
   Définit l'identifiant du client, utilisé par de nombreux composants
   de la base de données pour identifier les utilisateurs de l'application
   qui s'authentifie avec le même nom d'utilisateur de base de données.
  </para>
  <para>
   L'identifiant du client est enregistrée avec la base de données lorsque
   le prochain 'roundtrip' depuis PHP vers la base de données est effectué ;
   typiquement, l'exécution d'une requête SQL.
  </para>
  <para>
   L'identifiant peut par la suite être interrogé depuis une vue de l'administration
   de la base de données, comme la vue <literal>V$SESSION</literal>.
   Il peut être utilisé avec <literal>DBMS_MONITOR.CLIENT_ID_TRACE_ENABLE</literal>
   dans le cadrage d'un tracage. Il peut également être utilisé dans le cadre
   d'un audit.
  </para>
  <para>
   La valeur peut être conservée via le mécanisme des connexions persistantes.
  </para>
 </refsect1>

 <refsect1 role="parameters">
  &reftitle.parameters;
  <para>
   <variablelist>
    <varlistentry>
     <term><parameter>connection</parameter></term>
     <listitem>
      &oci.parameter.connection;
     </listitem>
    </varlistentry>
    <varlistentry>
     <term><parameter>client_identifier</parameter></term>
     <listitem>
      <para>
       Chaîne choisie par l'utilisateur, supérieur à 64 octets de long.
      </para>
     </listitem>
    </varlistentry>
   </variablelist>
  </para>
 </refsect1>

 <refsect1 role="returnvalues">
  &reftitle.returnvalues;
  <para>
   &return.success;
  </para>
 </refsect1>

 <refsect1 role="examples">
  &reftitle.examples;
  <para>
   <example>
    <title>Définit l'identifiant du client à l'utilisateur de l'application</title>
    <programlisting role="php">
<![CDATA[
<?php

// Retrouve le nom utilisé pour l'identification de l'utilisateur de l'application
session_start();
$un = my_validate_session($_SESSION['username']);
$c = oci_connect('myschema', 'welcome', 'localhost/XE');

// Demande à Oracle qui est cet utilisateur
oci_set_client_identifier($c, $un);

// Le prochain roundtrip vers la base de données validera cet identifiant
$s = oci_parse($c, 'select mydata from mytable');
oci_execute($s);

// ...

?>
]]>
    </programlisting>
   </example>
  </para>
 </refsect1>

 <refsect1 role="notes">
  &reftitle.notes;
  &oci.roundtrip.caution;
 </refsect1>

 <refsect1 role="seealso">
  &reftitle.seealso;
  <para>
   <simplelist>
    <member><function>oci_set_module_name</function></member>
    <member><function>oci_set_action</function></member>
    <member><function>oci_set_client_info</function></member>
   </simplelist>
  </para>
 </refsect1>

</refentry>

<!-- Keep this comment at the end of the file
Local variables:
mode: sgml
sgml-omittag:t
sgml-shorttag:t
sgml-minimize-attributes:nil
sgml-always-quote-attributes:t
sgml-indent-step:1
sgml-indent-data:t
indent-tabs-mode:nil
sgml-parent-document:nil
sgml-default-dtd-file:"~/.phpdoc/manual.ced"
sgml-exposed-tags:nil
sgml-local-catalogs:nil
sgml-local-ecat-files:nil
End:
vim600: syn=xml fen fdm=syntax fdl=2 si
vim: et tw=78 syn=sgml
vi: ts=1 sw=1
-->
