<?xml version="1.0" encoding="iso-8859-1"?>
<!-- $Revision: 1.19 $ -->
<!-- EN-Revision: 1.18 Maintainer: dams Status: ready -->
<!-- Reviewed: yes -->
  <refentry id="function.mysql-fetch-array">
   <refnamediv>
    <refname>mysql_fetch_array</refname>
    <refpurpose>
     Retourne une ligne de résultat MySQL sous la forme d'un tableau
     associatif, d'un tableau indexé, ou les deux
    </refpurpose>
   </refnamediv>
   <refsect1>
    &reftitle.description;
     <methodsynopsis>
      <type>array</type><methodname>mysql_fetch_array</methodname>
      <methodparam><type>resource</type><parameter>result</parameter></methodparam>
      <methodparam choice="opt"><type>int</type><parameter>result_type</parameter></methodparam>
     </methodsynopsis>
    <para>
     <function>mysql_fetch_array</function> retourne un tableau qui
     contient la ligne demandée dans le résultat <parameter>result</parameter>,
     ou &false; s'il ne reste plus de ligne.
    </para>
    <para>
     <function>mysql_fetch_array</function> est une version étendue de
     <function>mysql_fetch_row</function>. En plus d'enregistrer les
     données sous forme d'un tableau à indice numérique, elle peut aussi
     les enregistrer dans un tableau associatif, en utilisant les noms des
     champs comme indices.
    </para>
    <para>
     Si plusieurs colonnes portent le même nom, la dernière colonne
     aura la priorité. Pour accéder aux autres colonnes du
     même nom, vous devez utiliser l'index numérique, ou
     faire un alias pour chaque colonne.
     <example>
      <title>Requête avec duplication de nom de colonnes</title>
      <programlisting role="sql">
<![CDATA[
SELECT table1.field AS foo, table2.field AS bar FROM table1, table2
]]>
      </programlisting>
     </example>
    </para>
    <para>
     Il est important de souligner que <function>mysql_fetch_array</function> 
     <emphasis>N'est PAS</emphasis> significativement plus lente que 
     <function>mysql_fetch_row</function>, tandis qu'elle ajoute un 
     confort d'utilisation important.
    </para>
    <para>
     L'option <parameter>result_type</parameter> de
     <function>mysql_fetch_array</function> est une constante qui peut prendre
     les valeurs suivantes  : <constant>MYSQL_ASSOC</constant>, 
     <constant>MYSQL_NUM</constant> et <constant>MYSQL_BOTH</constant>.Cette
     fonctionnalité a été ajoutée en &php; 3.0.7.
     <constant>MYSQL_BOTH</constant> est la valeur par défaut de cet argument.
    </para>
    <para>
     En utilisant <constant>MYSQL_BOTH</constant>, vos obtiendrez un tableau
     qui sera à la fois associatif et indexé numériquement. En utilisant
     <constant>MYSQL_ASSOC</constant>, vous obtiendrez un tableau
     associatif (tout comme le fait <function>mysql_fetch_assoc</function>),
     et en utilisant <constant>MYSQL_NUM</constant>, vous obtiendrez un tableau
     indexé numériquement (comme le fait <function>mysql_fetch_row</function>).
    </para>
    &database.field-case;
    &database.fetch-null;
    <para>
     <example>
      <title>
       Exemple de <function>mysql_fetch_array</function> avec
       <constant>MYSQL_NUM</constant>
      </title>
      <programlisting role="php">
<![CDATA[
<?php
mysql_connect("localhost", "mysql_user", "mysql_password") or
    die("Impossible de se connecter :  " . mysql_error());
mysql_select_db("mydb");

$result = mysql_query("SELECT id, name FROM mytable");

while ($row = mysql_fetch_array($result, MYSQL_NUM)) {
    printf("ID : %s  Nom : %s", $row[0], $row[1]);  
}
?>
]]>
      </programlisting>
     </example>
     <example>
      <title>Exemple de <function>mysql_fetch_array</function> avec <constant>MYSQL_ASSOC</constant></title>
      <programlisting role="php">
<![CDATA[
<?php
mysql_connect("localhost", "mysql_user", "mysql_password") or
    die("Impossible de se connecter :  " . mysql_error());
mysql_select_db("mydb");

$result = mysql_query("SELECT id, name FROM mytable");

while ($row = mysql_fetch_array($result, MYSQL_ASSOC)) {
    printf("ID : %s  Nom : %s", $row["id"], $row["name"]);
}

mysql_free_result($result);
?>
]]>
      </programlisting>
     </example>
     <example>
      <title>
       Exemple de <function>mysql_fetch_array</function> avec
       <constant>MYSQL_BOTH</constant>
      </title>
      <programlisting role="php">
<![CDATA[
<?php
mysql_connect("localhost", "mysql_user", "mysql_password") or
    die("Impossible de se connecter :  " . mysql_error());
mysql_select_db("mydb");

$result = mysql_query("SELECT id, name FROM mytable");

while ($row = mysql_fetch_array($result, MYSQL_BOTH)) {
    printf("ID : %s  Nom : %s", $row[0], $row["name"]);  
}

mysql_free_result($result);
?>
]]>
      </programlisting>
     </example>
    </para>
    <para>
     Voir aussi
     <function>mysql_fetch_row</function>,
     <function>mysql_fetch_assoc</function>,
     <function>mysql_data_seek</function> et
     <function>mysql_query</function>.
    </para>
   </refsect1>
  </refentry>

<!-- Keep this comment at the end of the file
Local variables:
mode: sgml
sgml-omittag:t
sgml-shorttag:t
sgml-minimize-attributes:nil
sgml-always-quote-attributes:t
sgml-indent-step:1
sgml-indent-data:t
indent-tabs-mode:nil
sgml-parent-document:nil
sgml-default-dtd-file:"../../../../manual.ced"
sgml-exposed-tags:nil
sgml-local-catalogs:nil
sgml-local-ecat-files:nil
End:
vim600: syn=xml fen fdm=syntax fdl=2 si
vim: et tw=78 syn=sgml
vi: ts=1 sw=1
-->
